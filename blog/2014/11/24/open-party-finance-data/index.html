
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Open Party Finance Data - James Smith</title>
  <meta name="author" content="James Smith">

  
  <meta name="description" content="Open Party Finance Data Nov 24th, 2014 One of the things we want to do with Something New is to be as transparent as we possible can on donations &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://floppy.org.uk/blog/2014/11/24/open-party-finance-data">
  <link href="/favicon.png" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Quicksand:300,400' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="James Smith" type="application/atom+xml">
  <script src="/js/jquery.js"></script>
  <script src="/js/bootstrap-collapse.js"></script>
  <script src="/js/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/js/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="/stylesheets/custom.css" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-2310810-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <div class="navbar navbar-inverse navbar-static-top">
  	<div class="navbar-inner">
  	  <div class="container">
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".navbar-responsive-collapse">
          <span class="fui-menu-24"></span>
        </a>
  	  	<div class="nav-collapse collapse navbar-responsive-collapse" style="height:0;">
  	      <ul class="nav">
    
        <li ><a href="/">Home</a></li>
    
        <li ><a href="/blog/archives">Archive</a></li>
    
        <li ><a href="/code">Code</a></li>
    
</ul>

<ul class="nav pull-right">
    
    <li><a href="mailto:james@floppy.org.uk" title="Email"><i class="icon-envelope-alt social-navbar"></i></a></li>
    
    
    <li><a href="http://github.com/Floppy" title="Github Profile"><i class="icon-github social-navbar"></i></a></li>
    
    
    
    <li><a href="http://twitter.com/floppy" title="Twitter Profile"><i class="icon-twitter social-navbar"></i></a></li>
    
    
    <li><a href="http://plus.google.com/106927026319199661821" title="Google+ Profile"><i class="icon-google-plus social-navbar"></i></a></li>
    
    
    <li><a href="http://floppy.org.uk/atom.xml" title="Subscribe"><i class="icon-rss social-navbar"></i></a></li>
</ul>

  	    </div>
  	  </div>
  	</div>
  </div>
  <div class="container" id="main">
    <div class="span12">
      <div class="row-fluid">
        <div id="content">
          <div>
<article class="hentry" role="article">
  

  <header>
  <div class="jumbotron">
    Open Party Finance Data
	<h5>








  


<i class="icon-calendar-empty"></i> <time datetime="2014-11-24T07:18:00+00:00" pubdate data-updated="true">Nov 24<span>th</span>, 2014</time></h5>
  </div>
</header>
  <div class="row-fluid">
    <div class="span12">
      <p>One of the things we want to do with Something New is to be as transparent as we possible can on donations and spending. We do have to report a certain amount to the Electoral Commission, but it&rsquo;s also about walking the talk of openness and transparency.</p>

<p>We&rsquo;re not raising money yet, so donations will come later, but we have started to track our spending. Working at the ODI, I&rsquo;m surrounded by smart people, and there&rsquo;s always someone who knows about whatever you&rsquo;re trying to do. So, when thinking about spending data, I went to have a chat with Ian Makgill of <a href="https://spendnetwork.com/">Spend Network</a>, and asked if there were any formats that parties already use.</p>

<p>Fairly obviously, there weren&rsquo;t, so I then asked &ldquo;what would you <em>want</em> them to do?&rdquo;, and together we came up with a decent schema for political spending data. We&rsquo;re now publishing our finances in that format, so I thought I&rsquo;d give you a quick run through.</p>

<p>I talked about this in a recent <a href="theodi.org/lunchtime-lectures/friday-lunchtime-lecture-data-for-democracy-how-to-stand-for-parliament-with-open-data">ODI Friday Lunchtime Lecture</a>, so you can watch the video if you like. Or, read on below&hellip;</p>

<div style="width:500px; height:281px; margin: 0px auto">
  <iframe src="//player.vimeo.com/video/111864914" frameborder="0" width="100%" height="281px" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
</div>


<h2>Schema</h2>

<p>You can see the full schema on our <a href="https://somethingnewuk.github.io/finances/">finances microsite</a>.</p>

<p>It divides into a few sections. First there are names for suppliers and buyers, but also URIs, so we can uniquely identify them and correlate across other spending. Then we have the amount and date, including foreign currency where appropriate. Next comes a description of the item, and some categorisation of the product or service, and finally the supplier&rsquo;s transaction ID. I want to add links to (PDF?) copies of receipts as well, though I&rsquo;ve not got to that yet.</p>

<p>There are a few interesting parts to this, which I&rsquo;ll go into next&hellip;</p>

<h2>URIs</h2>

<p>It&rsquo;s easy enough to write the name of a company or buyer, but if we want to uniquely identify them, we need a URI. For companies, we use the <a href="http://opencorporates.com">OpenCorporates</a> URL; they cover millions of companies across the world, which is great. Unfortunately they don’t seem to include <a href="http://nationbuilder.com">NationBuilder</a>, who I suspect are based somewhere OpenCorporates don’t cover yet. Won’t be long, I’m sure.</p>

<p>Charities are another matter; there isn&rsquo;t a stable-looking URL for a charity on the <a href="https://www.gov.uk/government/organisations/charity-commission">Charity Commission</a> website, only a search box. Fortunately there is a project called <a href="http://opencharities.org/">OpenCharities</a> which does the same thing for charities as OpenCorporates does for companies, so I can use their URLs. Hurrah for Open Data.</p>

<p>One room I booked was from&hellip; I have no idea. I guess it&rsquo;s an unincorporated association. How we define URIs for things that barely exist legally, I don&rsquo;t know. If you do, let me know.</p>

<p>The last bit here is URIs for councils. Again, when booking rooms, councils are often the supplier, particularly Parish Councils. The LGA defines a set of URIs for councils down to the local authority level, but it doesn&rsquo;t go down to the parish level. In fact, it looks like there may not even be a proper list of parish councils, let alone a URI for each. The closest we have appears to be <a href="http://politicsresources.net/area/uk/parish.htm">this unofficial list</a>. We could do with an OpenCouncils project, perhaps, to bring these all together and let people reference them reliably.</p>

<p>The last bit on URIs was to talk about buyer URIs. For the party, that should be easy enough, but for individuals? What&rsquo;s <em>my</em> URI? I don&rsquo;t feel quite right with it just being my website, but that&rsquo;s basically the right thing to do. So, I&rsquo;ve made one up. If you need to refer to me officially, you can use <a href="http://id.floppy.org.uk">http://id.floppy.org.uk</a>. It also acts as an OpenID delegator (see the source for how), so it&rsquo;s now also my OpenID. If you visit it, you won&rsquo;t get much though, except a GIF of a <a href="https://www.youtube.com/watch?v=9hBpF_Zj4OA">rotating owl</a>. Because&hellip; reasons.</p>

<h2>Codes</h2>

<p>Moving on, let&rsquo;s talk about codes. We use two different coding schemes for the data. The first is from the electoral commission, which is only really useful for official reporting. The other is the <a href="http://unspsc.org">UN Standard Products and Services Code (UNSPSC)</a>. The UNSPSC has a decent search function, so it&rsquo;s easy enough to classify your spending, and the categories are <em>very</em> fine-grained. At least, they are in the area of traditional products; it&rsquo;s a bit vague on the whole &ldquo;Internet&rdquo; thing. Probably needs an update. Still, it&rsquo;s a standard, and will suffice for us. We can always use new codes as they create them.</p>

<h2>Publishing</h2>

<p>The last bit to talk about is how we publish the data. As I mentioned, the schema and data are wrapped up in a Datapackage, which is a JSON file which lists the fields, license, data file locations, etc. All this is in a <a href="https://github.com/SomethingNewUK/finances">GitHub repository</a>, and it&rsquo;s the live version, which means that we&rsquo;re not really publishing our data; instead you&rsquo;re seeing the real thing all the time.</p>

<p>Having the data in GitHub lets us do something cool &ndash; publish it on the web using github pages. If it&rsquo;s in a gh-pages branch, GitHub will publish it for us, and run it through <a href="http://jekyllrb.com">Jekyll</a>, which means you can also generate HTML pages alongside.</p>

<p>Jekyll has support for data files, both in JSON and YAML, and in CSV (which I <a href="https://github.com/jekyll/jekyll/pull/2761">specifically added</a> over the summer so I could use it for this &ndash; yay Open Source!). If we tell Jekyll that our entire repository is a source of data files, we can access all the files, both the CSVs and datapackage, from the HTML-generating files. That means we can have a single source of data, and use Jekyll to automatically publish both a human-readable version and the original machine-readable files. We&rsquo;ve basically rolled our own data publishing system, which is pretty cool. You can see how it all works in the <a href="https://github.com/SomethingNewUK/finances">repository</a>, but if you need more explanation, leave a comment and I&rsquo;ll elaborate.</p>

<h2>Validation &amp; Certification</h2>

<p>The last thing is that it&rsquo;s all validated and certified using tools I&rsquo;ve helped build at the ODI. We use <a href="http://csvlint.io">CSVlint</a> to check that the CSV files are valid when they&rsquo;re committed, and we&rsquo;ve also obtained an <a href="https://certificates.theodi.org/datasets/2254/certificates/14550">Open Data Certificate</a> for the data, showing that it&rsquo;s good, reliable, open data.</p>

<p>I&rsquo;d love to see more parties doing this. The data schema is totally reusable, as is the rest, and this took me no more than a few hours to put together from scratch. There is no technological reason why all the parties couldn&rsquo;t open up all their data tomorrow. All that they lack is the vision and the courage.</p>

    </div>
  </div>



  <footer>
    <hr>
    
    <div class="row-fluid">
      
      <div class="span6">
        <p class="meta">
        
        



  <a href="/blog/categories/election/"><span class="badge">election</span></a>




        </p>
      </div>
      
      <div class="span6 social-sharing">
        <div class="sharing">
  <div class="addthis_toolbox addthis_default_style ">
  
  
  <a class="addthis_button_tweet"></a>
  
  
  <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>

      </div>
      
      
    </div>
    
    <div class="row-fluid">
      <div class="span12">
        <p class="meta">
          
            <a class="basic-alignment left" href="/blog/2014/10/13/github-democracy/" title="Previous Post: GitHub Democracy">&laquo; GitHub Democracy</a>
          
          
        </p>
      </div>
    </div>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>



        </div>
      </div>
      <div class="row-fluid">
        <footer class="footer-page" role="contentinfo">
          <p>
  Copyright &copy; 2014 - James Smith -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span> - Theme by <a href="http://alexgaribay.com">Alex Garibay</a>
</p>


        </footer>
      </div>
    </div>
  </div>
  

<script type="text/javascript">
      var disqus_shortname = 'floppyorguk';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://floppy.org.uk/blog/2014/11/24/open-party-finance-data/';
        var disqus_url = 'http://floppy.org.uk/blog/2014/11/24/open-party-finance-data/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
